Array.prototype.getRandom=function(){return this[Math.floor(Math.random()*this.length)]},JSON.toEncoded=function(t){let e="";for(let n in t)e+=`${n}=${t[n]}&&`;return e};const vector2=function(t=0,e=0){return{x:t,y:e}},forIn=function(t,e){for(let n=0;n<t;n++)e&&e(n)},getRad=function(t){return t*Math.PI/180},vector2Dir=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},transformV=function(t,e){return vector2(e.x-t.x,e.y-t.y)},getMagnitude=function(t){return Math.hypot(t.x,t.y)},random=function(t,e=0){return Math.floor(Math.random()*t)+e},find=function(t){return document.querySelector(t)},findall=function(t){return document.querySelectorAll(t)},flex={components:[]},makeElement=function(t,e={}){return Object.assign(e,{find(t){return this.querySelector(t)},findall(t){return this.querySelectorAll(t)},addChild(t){this.appendChild(t),flex.components.push(t),t.onstyling&&t.onstyling(),t.onadded&&t.onadded()},show(t="block"){"none"!==this.style.display&&""!==this.style.display||(this.style.display=t)},hide(){"none"===this.style.display&&""===this.style.display||(this.style.display="none")},saveRemove(t){const e=this.find(t);e&&e.remove()}}),Object.assign(document.createElement(t),e)};document.body.addChild=function(t){this.appendChild(t),t.onstyling&&t.onstyling(),t.onadded&&t.onadded()},window.onresize=function(t){flex.components.forEach(e=>{e.onscreenChange&&e.onscreenChange(t)})};const cOn={x:new XMLHttpRequest,init(){this.x.someSettings=[],this.x.getJSONResponse=(()=>JSON.parse(this.x.responseText))},post(t){this.init(),Object.assign(this.x,t),this.x.open("POST",t.url),this.x.someSettings.length>0&&this.x.someSettings.forEach(t=>{this.x[t[0]](t[1],[t[2]])}),this.x.send(t.data)},get(t){this.init(),Object.assign(this.x,t),this.x.open("GET",t.url),this.x.send()}},uploadFile=function(t="readAsArrayBuffer",e,n=1e3,o,i,s={}){const r=new FileReader;r.onload=function(){const t=this.result;let r=0,l=!1;const a=function(){let d=r,c=d+n;c>t.byteLength&&(c-=c-t.byteLength,l=!0);let u=t.slice(d,c);cOn.post({url:"/upload",someSettings:[["setRequestHeader","content-type","application/octet-stream"],["setRequestHeader","filedata",JSON.stringify(Object.assign({fname:e.name},s))]],data:u,onload(t){r+=u.byteLength,o(r),l?i(t):a()}})};a()},r[t](e)},readFile=function(t,e,n){const o=new FileReader;o[e](t),o.onloadend=function(){n(this.result)}},showElement=function(t,e="flex"){t.style.display=e},hideElement=function(t){t.style.display="none"},getTime=function(){return(new Date).getTime()},OBJevaluate=function(t){const e={};for(let n in t)t[n]&&(e[n]=t[n]);return e},imgErrHandler=function(){console.log(this)},is_null=function(t){return 0===t.length};