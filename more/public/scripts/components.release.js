const header=makeElement("header",{style:"\n\t\tbackground:white;\n\t\twidth:100%;\n\t\tdisplay:flex;\n\t\talign-items:center;\n\t\tjustify-content:space-around;\n\t\tflex-wrap:wrap;\n\t",innerHTML:'\n\t\t<div\n\t\tstyle="\n\t\t\tpadding:10px;\n\t\t\tdisplay:flex;\n\t\t\talign-items:center;\n\t\t\tflex-direction:column;\n\t\t"\n\t\t>\t\n\t\t\t<img src=/file?fn=happy-face.png\n\t\t\tstyle="\n\t\t\t\twidth:32px;\n\t\t\t\theight:32px;\n\t\t\t"\n\t\t\t>\n\t\t\t<span\n\t\t\tstyle="\n\t\t\t\tfont-size:15px;\n\t\t\t\tcolor:black;\n\t\t\t"\n\t\t\t>NgomikAjaUdah</span>\n\t\t</div>\n\t\t<div\n\t\tstyle="\n\t\t\tpadding:10px;\n\t\t\tfont-size:20px;\n\t\t\tdisplay:flex;\n\t\t\talign-items:center;\n\t\t"\n\t\t>\n\t\t  <div\n\t\t\tstyle="\n\t\t\tmargin-left:10px;\n\t\t\t"\n\t\t  >\n\t\t    <input\n\t\t    style="\n\t\t      background:lightgray;\n\t\t\t  \n\t\t\t  padding:10px;\n\t\t\t  border:1.5px solid lightgray;\n\t\t    "\n\t\t    placeholder=\'Cari Komik...\'\n\t\t    ><button\n\t\t    style="\n\t\t      background:black;\n\t\t      color:white;\n\t\t\t  padding:10px;\n\t\t\t  border:1.5px solid black;\n\t\t\t  border-left:0;\n\t\t    "\n\t\t    >Go</button>\n\t\t  </div>\n\t\t</div>\n\t',onadded(){searchHandling(this)}}),searchHandling=function(t){t.find("button").onclick=(()=>{const n=t.find("input");if(""!=n.value){const t=[];find("header").contentBackup.forEach(e=>{-1!=e.title.toLowerCase().indexOf(n.value)&&t.push(e)}),find("#container").innerHTML="",displayContent(t,!0,[0,t.length-1>20?20:t.length-1]),0===t.length&&(find("#container").innerHTML='\n\t\t\t\t\t<div\n\t\t\t\t\tstyle="\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>Hasil tidak ditemukan!</span>\n\t\t\t\t\t</div>\n\t\t\t\t')}else find("#container").innerHTML="",displayContent(find("header").contentBackup,!1,[0,20])})},category=makeElement("div",{id:"category",style:"\n\t\tbackground:white;\n\t\tcolor:black;\n\t\twidth:100%;\n\t\theight:10%;\n\t\toverflow:auto;\n\t\tdisplay:flex;\n\t\tfont-size:15px;\n\t\talign-items:center;\n\t\tborder-top:1px solid black;\n\t",onadded(){["List","Rekomendasi","Populer","Riwayat"].forEach(t=>{this.addChild(makeElement("div",{style:"\n\t\t\t\t\tmargin:0 10px;\n\t\t\t\t\tcursor:pointer;\n\t\t\t\t",innerHTML:`\n\t\t\t\t\t<span id=${t}>${t}</span>\n\t\t\t\t`,itemTo:t,onclick(){this.changeCategory()},changeCategory(){find("content").remove(),find("main").addChild(content(this.itemTo))}}))})}}),content=function(t){return makeElement("content",{style:"\n\t\t\tbackground:black;\n\t\t\theight:100%;\n\t\t\twidth:100%;\n\t\t\tdisplay:flex;\n\t\t\talign-items:center;\n\t\t\tjustify-content:center;\n\t\t\toverflow:auto;\n\t\t",onscroll(){this.findall("#contentBox").forEach(t=>{t.getBoundingClientRect().y<-100||t.getBoundingClientRect().y>this.offsetHeight+100?hideElement(t.find("img")):showElement(t.find("img"))}),this.newContent()},newContent(){this.scrollTop+this.offsetHeight===this.scrollHeight&&this.content.load[1]<=this.content.contents.length&&this.content.contents.length-this.content.load[1]>20&&displayContent(this.content.contents,!1,[this.content.load[1]+1,this.content.load[1]+20])},onadded(){this.addChild(makeElement("div",{id:"container",style:"\n\t\t\t\t\twidth:90%;\n\t\t\t\t\theight:90%;\n\t\t\t\t\tpadding:10px;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-wrap:wrap;\n\t\t\t\t\tjustify-content:center;\n\t\t\t\t"})),this.addChild(openLoading("Sedang memuat konten..."));const n=this.find("#loadingDiv");if("Riwayat"!=t)cOn.get({url:`/file?fn=komik${t}.base&&dir=base`,onload(e){n.remove(),indicatorWorkingHandle(t),displayContent(JSON.parse(e.target.responseText).data,!0,[0,20])}});else{indicatorWorkingHandle(t);const e=localStorage.riwayat?JSON.parse(localStorage.riwayat):[];is_null(e)?(n.remove(),find("#container").innerHTML='\n\t\t\t\t\t\t<div\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>Belum ada data!</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t'):(displayContent(e,!0,[0,e.length-1]),n.remove())}}})},indicatorWorkingHandle=function(t){find("span.selectedCategory")&&find("span.selectedCategory").classList.remove("selectedCategory"),find(`span#${t}`).classList.add("selectedCategory")},displayContent=function(t,n=!0,e){n&&(find("header").contentBackup=t);for(let n=e[0];n<=e[1];n++)find("#container").addChild(makeContentBox(t[n],n));find("content").content={contents:t,load:e}},makeContentBox=function(t,n){return makeElement("div",{id:"contentBox",index:n,style:"\n\t\t\tbackground:white;\n\t\t\tdisplay:flex;\n\t\t\talign-items:center;\n\t\t\tjustify-content:center;\n\t\t\tflex-direction:column;\n\t\t\tmargin:5px;\n\t\t\twidth:200px;\n\t\t\theight:200px;\n\t\t\tcursor:pointer;\n\t\t",content:t,innerHTML:`\n\t\t\t<div\n\t\t\tstyle="\n\t\t\t\twidth:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tjustify-content:center;\n\t\t\t\theight:100%;\n\t\t\t">\n\t\t\t\t<img\n\t\t\t\tsrc=${t.image||t.thumbnail}\n\t\t\t\tstyle="\n\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\tbackground:white;\n\t\t\t\t\twidth:200px;\n\t\t\t\t\theight:150px;\n\t\t\t\t"\n\t\t\t\t>\n\t\t\t</div>\t\t\t\n\t\t\t<div\n\t\t\tstyle="\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:center;\n\t\t\t\tflex-direction:column;\n\t\t\t\toverflow:auto;\n\t\t\t"\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\tstyle="\n\t\t\t\tpadding:5px;\n\t\t\t\twidth:90%;\n\t\t\t\tfont-weight:bold;\n\t\t\t\ttext-align:center;\n\t\t\t\t"\n\t\t\t\t>${t.title.slice(0,30)}...</span>\n\t\t\t</div>\n\t\t`,onadded(){this.find("img").onerror=function(){this.src="/file?fn=nofilefound.png"},this.findall("div").forEach(t=>{t.onclick=(()=>{getInfo(this.content.endpoint,this.content)})})}})},getInfo=function(t,n){find("main").addChild(openLoading("Sedang memuat data...",e=>{cOn.get({url:`https://komiku-api.fly.dev/api/comic/info${t}`,onload(t){e.remove(),processLink(this.getJSONResponse().data,n)}})}))},processLink=function(t,n){find("main").addChild(makeElement("div",{style:"\n      position:absolute;\n      top:0;\n      left:0;\n      width:100%;\n      height:100%;\n      background:rgb(0,0,0,0.5);\n      display:flex;\n      align-items:center;\n      flex-direction:column;\n    ",onadded(){this.addChild(makeElement("div",{removable:this,style:"\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tborder-radius:0 0 10px 10px;\n\t\t\t\t",id:"bar-video",innerHTML:`\n\t\t\t\t\t<div\n\t\t\t\t\tstyle="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\tfont-size:20px;\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\ttext-align:left;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>${t.title}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img src=${t.thumbnail}\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:200px;\n\t\t\t\t\t\t\t\t\theight:auto;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\tmargin-top:10px;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\twidth:50%;\n\t\t\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Rating: ${t.rating}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Pengarang: ${t.author}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Status: ${t.status}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Tipe: ${t.type}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Jumlah Chapter: ${t.chapter_list.length}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\twidth:50%;\n\t\t\t\t\t\t\t\ttext-align:right;\n\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\tjustify-content:flex-end;\n\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\tflex-wrap:wrap;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t\t\t\t\tborder-radius:5px;\n\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t\tmargin-right:10px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\tid=readToogle\n\t\t\t\t\t\t\t\t>Baca</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t\t\t\t\tborder-radius:5px;\n\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\tid=closeToogle\n\t\t\t\t\t\t\t\t>Tutup</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`,onadded(){this.find("#readToogle").onclick=(()=>{openReader(t),saveData(n)}),this.find("#closeToogle").onclick=(()=>{this.removable.remove()})}}))}}))},saveData=function(t){const n=localStorage.riwayat?JSON.parse(localStorage.riwayat):[],e=[];n.forEach(t=>{e.push(t.title)}),e.includes(t.title)||(n.push(t),localStorage.riwayat=JSON.stringify(n))},openReader=function(t){find("main").addChild(makeElement("div",{style:"\n\t\t\tposition:absolute;\n\t\t\twidth:100%;\n\t\t\theight:100%;\n\t\t\tbackground:rgb(0,0,0,0.5);\n\t\t\ttop:0;\n\t\t\tleft:0;\n\t\t\tdisplay:flex;\n\t\t\tjustify-content:center;\n\t\t",innerHTML:'\n\t\t\t<div\n\t\t\tid=\'readerBox\'\n\t\t\tstyle="\n\t\t\t\tbackground:white;\n\t\t\t\theight:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\tstyle="\n\t\t\t\t\theight:10%;\n\t\t\t\t\twidth:100%;\n\t\t\t\t\tborder-bottom:1px solid black;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tjustify-content:flex-start;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\toverflow:auto;\n\t\t\t\t"\n\t\t\t\tid="chapter"\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\tstyle="\n\t\t\t\t\theight:80%;\n\t\t\t\t\twidth:100%;\n\t\t\t\t\tborder-bottom:1px solid black;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t\tjustify-content:flex-start;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\toverflow:auto;\n\t\t\t\t"\n\t\t\t\tid=\'imgbox\'\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\tstyle="\n\t\t\t\t\theight:10%;\n\t\t\t\t\twidth:100%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tjustify-content:center;\n\t\t\t\t"\n\t\t\t\tid=closeToogle\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\tstyle="\n\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t"\n\t\t\t\t\t>Tutup</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',onadded(){const n=this;this.find("#closeToogle").onclick=(()=>{this.remove()});const e=t=>{const n=this.find("#imgbox");n.innerHTML="",t.forEach(t=>{n.appendChild(makeElement("div",{style:"\n\t\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\t\tmax-width:90%;\n\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t",innerHTML:`\n\t\t\t\t\t\t\t<img src=${t}\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\tmax-width:100%;\n\t\t\t\t\t\t\t\tmax-height:100%;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t`}))})};for(let i=t.chapter_list.length-1;i>=0;i--)this.find("#chapter").appendChild(makeElement("div",{style:"\n\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t",innerHTML:`\n\t\t\t\t\t\t<span\n\t\t\t\t\t\tstyle=display:inline-block;font-size:11px;cursor:pointer;\n\t\t\t\t\t\t>${t.chapter_list[i].name}</span>\n\t\t\t\t\t`,endpoint:t.chapter_list[i].endpoint,onclick(){const t=openLoading("Memuat Kontent...");find("main").addChild(t),cOn.get({url:`https://komiku-api.fly.dev/api/comic/chapter${this.endpoint}`,onload(){e(this.getJSONResponse().data.image),t.remove()}}),this.handleClickedChapter()},handleClickedChapter(){n.findall("span").forEach(t=>{t.classList.remove("selectedCategory")}),this.find("span").classList.add("selectedCategory")}}));this.find("#chapter div").click()}}))},openLoading=function(t,n){return makeElement("div",{id:"loadingDiv",style:"\n\t\t\tposition:absolute;\n\t\t\ttop:0;\n\t\t\tleft:0;\n\t\t\twidth:100%;\n\t\t\theight:100%;\n\t\t\tbackground:rgb(0,0,0,0.5);\n\t\t\tdisplay:flex;\n\t\t\talign-items:center;\n\t\t\tjustify-content:center;\n\t\t",innerHTML:`\n\t\t\t<div\n\t\t\tstyle="\n\t\t\t\tbackground:white;\n\t\t\t\tpadding:10px;\n\t\t\t"\n\t\t\t>\n\t\t\t\t<span>${t}</span>\n\t\t\t</div>\n\t\t`,onadded(){n&&n(this)}})};